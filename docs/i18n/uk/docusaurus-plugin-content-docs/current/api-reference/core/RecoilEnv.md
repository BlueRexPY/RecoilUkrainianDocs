---
title: RecoilEnv
sidebar_label: RecoilEnv
---

Об’єкт, який містить змінні середовища Recoil, які можна читати або встановлювати.

* **`RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED`**: `boolean` - корисно для вимкнення дублікатів перевірки ключа атома/селектора в середовищах, де модулі можуть бути легально перезавантажені, наприклад у NextJS, або під час використання швидкого оновлення React під час розробки. Оскільки це вимикає всі перевірки, включно з дійсними помилками, використовуйте з обережністю.
* **`RECOIL_GKS_ENABLED`**: `Set<string>` - Recoil містить набір нестабільних внутрішніх прапорців, що змінюють поведінку, які називаються воротарями (GK). Ці прапорці поступово переходять у звичайний випуск Recoil у міру їх тестування, вдосконалення та стабілізації. Ця змінна дозволяє ввімкнути додаткові позначки, якщо ви хочете спробувати нові експериментальні функції.

  Щоб увімкнути GK, додайте його до набору _перед_ створенням свого першого `<RecoilRoot>`:
   ```jsx
   RecoilEnv.RECOIL_GKS_ENABLED.add('recoil_transition_support');
   ```

   Неповний список доступних прапорів:
   * `recoil_hamt_2020` (увімкнено за замовчуванням) - перемикає реалізацію `Map<K, V>` на [hash array mapped trie](https://en.wikipedia.org/wiki/Hash_array_mapped_trie)
   * `recoil_sync_external_store` (увімкнено за замовчуванням) – вмикає підтримку [`useSyncExternalStore`](https://reactjs.org/docs/hooks-reference.html#usesyncexternalstore), якщо версія React, що використовується, це забезпечує
   * `recoil_suppress_rerender_in_callback` (увімкнено за замовчуванням) - уникає повторного рендерингу компонентів, якщо значення селектора не змінюються, порівнюючи за еталонною рівністю
   * `recoil_memory_managament_2020` (увімкнено за замовчуванням) - Реалізує збирання сміття шляхом автоматичного звільнення вмісту атомів і селекторів, коли вони більше не використовуються будь-якими компонентами
   * `recoil_transition_support` - вмикає підтримку [`useTransition`](https://reactjs.org/docs/hooks-reference.html#usetransition); має пріоритет над `recoil_sync_external_store`

## NodeJS

Змінні середовища також можна ініціалізувати в середовищах NodeJS, таких як NextJs, установивши `process.env`. Змінні, встановлені з `process.env`, аналізуються відповідно до їхнього типу даних:

* `boolean` - або `true`, або `false`, регістр не враховується
* `Set<string>` – список рядків, розділених пробілами або комами, напр. `a b c` або `a,b,c` відповідно, які додаються до будь-яких значень, присутніх у наборі за умовчанням (наразі неможливо перезаписати весь набір)

---
